<ion-header>
  <ion-toolbar color="dark" text-center>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>เพิ่มสินค้า</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content><br>
  <ion-card>
    <ion-card-content>
      <form [formGroup]="dataStore" (ngSubmit)="check()">
        <ion-item>
          <ion-label>ชื่อสินค้า</ion-label>
          <ion-select placeholder="ชื่อสินค้า" formControlName="nameProduct" [(ngModel)]="dataIdProduct" (ionChange)=data(dataIdProduct)>
            <ion-select-option *ngFor="let p of dataProductAll" value="{{ p.idProduct }}">{{p.nameProduct}}
            </ion-select-option>
          </ion-select>
        </ion-item>        
        <div *ngFor="let error of errorMessages.nameProduct">
          <div *ngIf="nameProduct.hasError(error.type) && (nameProduct.dirty || nameProduct.touched)">
            <ion-label color="danger">* {{error.message}}</ion-label>
          </div>
        </div>
        <ion-item *ngIf="dataIdProduct != null">
          <!-- <ion-label >รหัสสินค้า : {{ dataIdProduct }}</ion-label> -->
          <ion-input value="{{ dataIdProduct }}" readonly></ion-input>
        </ion-item>

        <ion-item *ngIf="dataIdProduct == null">
          <ion-label>รหัสสินค้า :</ion-label>
        </ion-item>
        
        <ion-item>
          <ion-label>จำนวนสินค้า</ion-label>
          <ion-input placeholder="จำนวน" formControlName="totalProduct"></ion-input>
        </ion-item>    
        <div *ngFor="let error of errorMessages.totalProduct">
          <div *ngIf="totalProduct.hasError(error.type) && (totalProduct.dirty || totalProduct.touched)">
            <ion-label color="danger">* {{error.message}}</ion-label>
          </div>
        </div>    
        <!-- <ion-row>
          <ion-col text-left>
            <ion-label *ngIf="isShowValidate == true"><br><b class="text">กรุณากรอกข้อมูลให้ครบถ้วน !!</b></ion-label>            
            <ion-label *ngIf="isShowValidateTotal == true"><br><b class="text">กรุณา !!</b></ion-label>  
          </ion-col>
        </ion-row> -->
        <div *ngIf="isShowValidate == true">
          <ion-label color="danger">* กรุณากรอกข้อมูลให้ครบถ้วน !!</ion-label>
        </div>
        <br>
        <ion-button expand="full"  color="dark" type="submit">เพิ่มสินค้า</ion-button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>